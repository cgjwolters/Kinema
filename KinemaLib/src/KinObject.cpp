//---------------------------------------------------------------------------
//-------------------- Copyright Inofor Hoek Aut BV Dec 1999-2013 -----------
//-------------------------------------------------- C.Wolters --------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------- Basic Abstract Object class ------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------

#include "KinObject.h"

#include "KinModel.h"

#include "Basics.h"

using namespace Ino;

namespace InoKin {

//---------------------------------------------------------------------------

Object::Object(Model& kmodel, const wchar_t *name)
: nam(dupStr(name)), id(0), model(kmodel)
{
}

//---------------------------------------------------------------------------

Object::Object(Model& kmodel, const Object& cp)
: nam(dupStr(cp.nam)), id(cp.id), model(kmodel)
{
}

//---------------------------------------------------------------------------

Object::~Object()
{
  delete[] nam;
}

//---------------------------------------------------------------------------

void Object::setName(const wchar_t *newName)
{
  if (!compareStr(nam,newName)) return;

  delete[] nam;
  nam = dupStr(newName);

  setModelModified();
}

//---------------------------------------------------------------------------

void Object::setModelTopoModified() const
{
  model.setTopoModified();
}

//---------------------------------------------------------------------------

void Object::setModelModified() const
{
  model.setModified();
}

} // namespace

//---------------------------------------------------------------------------
